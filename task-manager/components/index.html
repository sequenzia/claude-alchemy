
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A monorepo combining Claude Code plugins and a real-time Task Manager application">
      
      
      
      
        <link rel="prev" href="../real-time-system/">
      
      
        <link rel="next" href="../security/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Components - Claude Alchemy</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#components-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Claude Alchemy" class="md-header__button md-logo" aria-label="Claude Alchemy" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Claude Alchemy
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Components
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/sequenzia/claude-alchemy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    sequenzia/claude-alchemy
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../getting-started/" class="md-tabs__link">
        
  
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../architecture/overview/" class="md-tabs__link">
          
  
  
  Architecture

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../overview/" class="md-tabs__link">
          
  
  
  Task Manager

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../plugins/overview/" class="md-tabs__link">
          
  
  
  Plugins

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../development/setup/" class="md-tabs__link">
          
  
  
  Development

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Claude Alchemy" class="md-nav__button md-logo" aria-label="Claude Alchemy" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Claude Alchemy
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/sequenzia/claude-alchemy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    sequenzia/claude-alchemy
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/filesystem-message-bus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Filesystem Message Bus
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/data-flow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Flow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Task Manager
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Task Manager
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../real-time-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Real-Time System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Components
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Components
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#component-hierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Component Hierarchy
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#page-level-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Page-Level Components
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Page-Level Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rootlayout" class="md-nav__link">
    <span class="md-ellipsis">
      
        RootLayout
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#homepage" class="md-nav__link">
    <span class="md-ellipsis">
      
        HomePage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tasklistpage" class="md-nav__link">
    <span class="md-ellipsis">
      
        TaskListPage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Core Components
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#providers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Providers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#taskboardclient" class="md-nav__link">
    <span class="md-ellipsis">
      
        TaskBoardClient
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kanbanboard" class="md-nav__link">
    <span class="md-ellipsis">
      
        KanbanBoard
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#taskdetail" class="md-nav__link">
    <span class="md-ellipsis">
      
        TaskDetail
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summarystats" class="md-nav__link">
    <span class="md-ellipsis">
      
        SummaryStats
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executiondialog" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExecutionDialog
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executionprogressbar" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExecutionProgressBar
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tasklistselector" class="md-nav__link">
    <span class="md-ellipsis">
      
        TaskListSelector
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#searchinput" class="md-nav__link">
    <span class="md-ellipsis">
      
        SearchInput
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#themetoggle" class="md-nav__link">
    <span class="md-ellipsis">
      
        ThemeToggle
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hooks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hooks
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usetasks" class="md-nav__link">
    <span class="md-ellipsis">
      
        useTasks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usetasklists" class="md-nav__link">
    <span class="md-ellipsis">
      
        useTaskLists
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#useexecutioncontext" class="md-nav__link">
    <span class="md-ellipsis">
      
        useExecutionContext
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usesse" class="md-nav__link">
    <span class="md-ellipsis">
      
        useSSE
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usetaskstats" class="md-nav__link">
    <span class="md-ellipsis">
      
        useTaskStats
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Type Definitions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Type Definitions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#task-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Task Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execution-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Execution Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sse-event-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        SSE Event Types
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ui-primitives" class="md-nav__link">
    <span class="md-ellipsis">
      
        UI Primitives
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server-to-client-data-handoff" class="md-nav__link">
    <span class="md-ellipsis">
      
        Server-to-Client Data Handoff
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-key-factories" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Key Factories
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#theme-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        Theme System
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Plugins
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Plugins
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/tools-plugin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tools Plugin
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/sdd-plugin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SDD Plugin
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/sdd-workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SDD Workflow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/conventions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Conventions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#component-hierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Component Hierarchy
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#page-level-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Page-Level Components
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Page-Level Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rootlayout" class="md-nav__link">
    <span class="md-ellipsis">
      
        RootLayout
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#homepage" class="md-nav__link">
    <span class="md-ellipsis">
      
        HomePage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tasklistpage" class="md-nav__link">
    <span class="md-ellipsis">
      
        TaskListPage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Core Components
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#providers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Providers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#taskboardclient" class="md-nav__link">
    <span class="md-ellipsis">
      
        TaskBoardClient
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kanbanboard" class="md-nav__link">
    <span class="md-ellipsis">
      
        KanbanBoard
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#taskdetail" class="md-nav__link">
    <span class="md-ellipsis">
      
        TaskDetail
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summarystats" class="md-nav__link">
    <span class="md-ellipsis">
      
        SummaryStats
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executiondialog" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExecutionDialog
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executionprogressbar" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExecutionProgressBar
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tasklistselector" class="md-nav__link">
    <span class="md-ellipsis">
      
        TaskListSelector
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#searchinput" class="md-nav__link">
    <span class="md-ellipsis">
      
        SearchInput
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#themetoggle" class="md-nav__link">
    <span class="md-ellipsis">
      
        ThemeToggle
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hooks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hooks
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usetasks" class="md-nav__link">
    <span class="md-ellipsis">
      
        useTasks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usetasklists" class="md-nav__link">
    <span class="md-ellipsis">
      
        useTaskLists
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#useexecutioncontext" class="md-nav__link">
    <span class="md-ellipsis">
      
        useExecutionContext
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usesse" class="md-nav__link">
    <span class="md-ellipsis">
      
        useSSE
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usetaskstats" class="md-nav__link">
    <span class="md-ellipsis">
      
        useTaskStats
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Type Definitions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Type Definitions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#task-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Task Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execution-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Execution Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sse-event-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        SSE Event Types
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ui-primitives" class="md-nav__link">
    <span class="md-ellipsis">
      
        UI Primitives
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server-to-client-data-handoff" class="md-nav__link">
    <span class="md-ellipsis">
      
        Server-to-Client Data Handoff
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-key-factories" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Key Factories
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#theme-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        Theme System
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<!-- docs/task-manager/components.md -->
<h1 id="components-reference">Components Reference<a class="headerlink" href="#components-reference" title="Permanent link">&para;</a></h1>
<p>The Task Manager UI is built from a layered component hierarchy that separates server-side data fetching from client-side interactivity. Server Components handle initial data loading, while Client Components manage state, real-time updates, and user interaction through TanStack Query and Server-Sent Events.</p>
<h2 id="component-hierarchy">Component Hierarchy<a class="headerlink" href="#component-hierarchy" title="Permanent link">&para;</a></h2>
<pre class="mermaid"><code>graph TD
    RootLayout["RootLayout (Server)"]
    Providers["Providers (Client)"]
    HomePage["HomePage (Server)"]
    TaskListPage["TaskListPage (Server)"]
    TaskBoardClient["TaskBoardClient (Client)"]
    Header["Header"]
    TLS["TaskListSelector"]
    SI["SearchInput"]
    EPB["ExecutionProgressBar"]
    TT["ThemeToggle"]
    SS["SummaryStats"]
    KB["KanbanBoard"]
    TC["Task Cards"]
    TD_["TaskDetail (Dialog)"]
    ED["ExecutionDialog (Dialog)"]

    RootLayout --&gt; Providers
    Providers --&gt; HomePage
    Providers --&gt; TaskListPage
    TaskListPage --&gt; TaskBoardClient
    TaskBoardClient --&gt; Header
    Header --&gt; TLS
    Header --&gt; SI
    Header --&gt; EPB
    Header --&gt; TT
    TaskBoardClient --&gt; SS
    TaskBoardClient --&gt; KB
    KB --&gt; TC
    TaskBoardClient --&gt; TD_
    TaskBoardClient --&gt; ED</code></pre>
<h2 id="page-level-components">Page-Level Components<a class="headerlink" href="#page-level-components" title="Permanent link">&para;</a></h2>
<h3 id="rootlayout">RootLayout<a class="headerlink" href="#rootlayout" title="Permanent link">&para;</a></h3>
<p>Server Component that wraps the entire application with fonts and the <code>Providers</code> client boundary.</p>
<div class="highlight"><span class="filename">src/app/layout.tsx</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">RootLayout</span><span class="p">({</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">  </span><span class="nx">children</span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p">}</span><span class="o">:</span><span class="w"> </span><span class="nx">Readonly</span><span class="o">&lt;</span><span class="p">{</span><span class="w"> </span><span class="nx">children</span><span class="o">:</span><span class="w"> </span><span class="kt">React.ReactNode</span><span class="w"> </span><span class="p">}</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">html</span><span class="w"> </span><span class="nx">lang</span><span class="o">=</span><span class="s2">&quot;en&quot;</span><span class="w"> </span><span class="nx">suppressHydrationWarning</span><span class="o">&gt;</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">body</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="sb">`</span><span class="si">${</span><span class="nx">geistSans</span><span class="p">.</span><span class="nx">variable</span><span class="si">}</span><span class="sb"> </span><span class="si">${</span><span class="nx">geistMono</span><span class="p">.</span><span class="nx">variable</span><span class="si">}</span><span class="sb"> antialiased`</span><span class="p">}</span><span class="o">&gt;</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">Providers</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">children</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Providers&gt;</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">      </span><span class="o">&lt;</span><span class="err">/body&gt;</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/html&gt;</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">  </span><span class="p">)</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="p">}</span>
</span></code></pre></div>
<table>
<thead>
<tr>
<th>Responsibility</th>
<th>Detail</th>
</tr>
</thead>
<tbody>
<tr>
<td>Fonts</td>
<td>Loads Geist Sans and Geist Mono via <code>next/font/google</code></td>
</tr>
<tr>
<td>Metadata</td>
<td>Sets page title to "Claude Task Manager"</td>
</tr>
<tr>
<td>Hydration</td>
<td>Uses <code>suppressHydrationWarning</code> for <code>next-themes</code> compatibility</td>
</tr>
</tbody>
</table>
<h3 id="homepage">HomePage<a class="headerlink" href="#homepage" title="Permanent link">&para;</a></h3>
<p>Server Component at <code>/</code> that redirects to the first available task list.</p>
<div class="highlight"><span class="filename">src/app/page.tsx</span><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">HomePage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">taskLists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">getTaskLists</span><span class="p">()</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">taskLists</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span><span class="nx">redirect</span><span class="p">(</span><span class="sb">`/lists/</span><span class="si">${</span><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">taskLists</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">id</span><span class="p">)</span><span class="si">}</span><span class="sb">`</span><span class="p">)</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">  </span><span class="c1">// Fallback: empty state message</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="p">}</span>
</span></code></pre></div>
<p>If no task lists exist in <code>~/.claude/tasks/</code>, it renders an empty state directing the user to create task files.</p>
<h3 id="tasklistpage">TaskListPage<a class="headerlink" href="#tasklistpage" title="Permanent link">&para;</a></h3>
<p>Server Component at <code>/lists/[listId]</code> that performs parallel data fetching and passes results to the client orchestrator.</p>
<div class="highlight"><span class="filename">src/app/lists/[listId]/page.tsx</span><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">taskLists</span><span class="p">,</span><span class="w"> </span><span class="nx">tasks</span><span class="p">,</span><span class="w"> </span><span class="nx">executionContext</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">  </span><span class="nx">getTaskLists</span><span class="p">(),</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">  </span><span class="nx">getTasks</span><span class="p">(</span><span class="nx">decodedListId</span><span class="p">),</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">  </span><span class="nx">getExecutionContext</span><span class="p">(</span><span class="nx">decodedListId</span><span class="p">),</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="p">])</span>
</span></code></pre></div>
<table>
<thead>
<tr>
<th>Data Fetched</th>
<th>Passed As</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>TaskList[]</code></td>
<td><code>taskLists</code></td>
</tr>
<tr>
<td><code>Task[]</code></td>
<td><code>initialTasks</code></td>
</tr>
<tr>
<td><code>ExecutionContext \| null</code></td>
<td><code>initialExecutionContext</code></td>
</tr>
</tbody>
</table>
<p>All three fetches run in parallel via <code>Promise.all</code> for optimal loading performance. If the decoded <code>listId</code> does not match any known task list, the page calls <code>notFound()</code>.</p>
<hr />
<h2 id="core-components">Core Components<a class="headerlink" href="#core-components" title="Permanent link">&para;</a></h2>
<h3 id="providers">Providers<a class="headerlink" href="#providers" title="Permanent link">&para;</a></h3>
<p><strong>File:</strong> <code>src/components/Providers.tsx</code> Â· <strong>Type:</strong> Client Component</p>
<p>Wraps the entire component tree with TanStack Query and theme support.</p>
<div class="highlight"><span class="filename">src/components/Providers.tsx</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">Providers</span><span class="p">({</span><span class="w"> </span><span class="nx">children</span><span class="w"> </span><span class="p">}</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">children</span><span class="o">:</span><span class="w"> </span><span class="kt">React.ReactNode</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">queryClient</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">      </span><span class="ow">new</span><span class="w"> </span><span class="nx">QueryClient</span><span class="p">({</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">        </span><span class="nx">defaultOptions</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">          </span><span class="nx">queries</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">            </span><span class="nx">staleTime</span><span class="o">:</span><span class="w"> </span><span class="kt">1000</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">60</span><span class="p">,</span><span class="w"> </span><span class="c1">// 1 minute</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">            </span><span class="nx">refetchOnWindowFocus</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">      </span><span class="p">})</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">  </span><span class="p">)</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">QueryClientProvider</span><span class="w"> </span><span class="nx">client</span><span class="o">=</span><span class="p">{</span><span class="nx">queryClient</span><span class="p">}</span><span class="o">&gt;</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">ThemeProvider</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="w">        </span><span class="nx">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w">        </span><span class="nx">defaultTheme</span><span class="o">=</span><span class="s2">&quot;dark&quot;</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="w">        </span><span class="nx">enableSystem</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="w">        </span><span class="nx">disableTransitionOnChange</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="w">      </span><span class="o">&gt;</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="w">        </span><span class="p">{</span><span class="nx">children</span><span class="p">}</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="w">      </span><span class="o">&lt;</span><span class="err">/ThemeProvider&gt;</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/QueryClientProvider&gt;</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="w">  </span><span class="p">)</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="p">}</span>
</span></code></pre></div>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Value</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>staleTime</code></td>
<td>60 seconds</td>
<td>Prevents unnecessary refetches; SSE handles real-time invalidation</td>
</tr>
<tr>
<td><code>refetchOnWindowFocus</code></td>
<td><code>false</code></td>
<td>Avoids disruptive refetches when switching tabs</td>
</tr>
<tr>
<td><code>defaultTheme</code></td>
<td><code>"dark"</code></td>
<td>Dark mode is the default appearance</td>
</tr>
<tr>
<td><code>enableSystem</code></td>
<td><code>true</code></td>
<td>Respects OS-level theme preference</td>
</tr>
<tr>
<td><code>disableTransitionOnChange</code></td>
<td><code>true</code></td>
<td>Prevents flash-of-wrong-theme during toggles</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">QueryClient Initialization</p>
<p>The <code>QueryClient</code> is created inside <code>useState</code> to ensure a single instance per component lifecycle, avoiding re-creation on every render while remaining safe for React Strict Mode.</p>
</div>
<hr />
<h3 id="taskboardclient">TaskBoardClient<a class="headerlink" href="#taskboardclient" title="Permanent link">&para;</a></h3>
<p><strong>File:</strong> <code>src/components/TaskBoardClient.tsx</code> Â· <strong>Type:</strong> Client Component</p>
<p>The root client-side orchestrator. It composes all hooks and child components, manages UI state, and bridges server-fetched data into the reactive client layer.</p>
<div class="highlight"><span class="filename">src/components/TaskBoardClient.tsx</span><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kd">interface</span><span class="w"> </span><span class="nx">TaskBoardClientProps</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">  </span><span class="nx">listId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">  </span><span class="nx">initialTasks</span><span class="o">:</span><span class="w"> </span><span class="kt">Task</span><span class="p">[]</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">  </span><span class="nx">taskLists</span><span class="o">:</span><span class="w"> </span><span class="kt">TaskList</span><span class="p">[]</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">  </span><span class="nx">initialExecutionContext?</span><span class="o">:</span><span class="w"> </span><span class="kt">ExecutionContext</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="p">}</span>
</span></code></pre></div>
<p><strong>State managed:</strong></p>
<table>
<thead>
<tr>
<th>State</th>
<th>Type</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>selectedTask</code></td>
<td><code>Task \| null</code></td>
<td>Currently open task in the detail dialog</td>
</tr>
<tr>
<td><code>searchQuery</code></td>
<td><code>string</code></td>
<td>Text filter applied to the Kanban board</td>
</tr>
<tr>
<td><code>executionDialogOpen</code></td>
<td><code>boolean</code></td>
<td>Controls visibility of the execution dialog</td>
</tr>
</tbody>
</table>
<p><strong>Hooks composed:</strong></p>
<table>
<thead>
<tr>
<th>Hook</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>useTasks(listId, initialTasks)</code></td>
<td>Keeps task data reactive with server-provided initial data</td>
</tr>
<tr>
<td><code>useExecutionContext(listId, initialExecutionContext)</code></td>
<td>Polls execution context with 5-second interval</td>
</tr>
<tr>
<td><code>useSSE(listId)</code></td>
<td>Opens SSE connection for real-time cache invalidation</td>
</tr>
</tbody>
</table>
<p><strong>Layout structure:</strong></p>
<p>The component renders four main areas in sequence:</p>
<ol>
<li><strong>Header bar</strong> â <code>TaskListSelector</code>, <code>SearchInput</code>, <code>ExecutionProgressBar</code>, <code>ThemeToggle</code></li>
<li><strong>SummaryStats</strong> â Only rendered when tasks exist</li>
<li><strong>Main content</strong> â <code>KanbanBoard</code> or an empty state message</li>
<li><strong>Dialogs</strong> â <code>TaskDetail</code> and <code>ExecutionDialog</code> (portaled, conditionally visible)</li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Server-to-Client Data Handoff</p>
<p><code>initialTasks</code> and <code>initialExecutionContext</code> from the Server Component are passed directly as <code>initialData</code> to TanStack Query. This means the page renders instantly with server data, then stays in sync via SSE-triggered invalidations â no loading spinners on initial page load.</p>
</div>
<hr />
<h3 id="kanbanboard">KanbanBoard<a class="headerlink" href="#kanbanboard" title="Permanent link">&para;</a></h3>
<p><strong>File:</strong> <code>src/components/KanbanBoard.tsx</code> Â· <strong>Type:</strong> Client Component</p>
<p>A three-column Kanban grid that groups and displays tasks by status.</p>
<div class="highlight"><span class="filename">src/components/KanbanBoard.tsx</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kd">interface</span><span class="w"> </span><span class="nx">KanbanBoardProps</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">  </span><span class="nx">tasks</span><span class="o">:</span><span class="w"> </span><span class="kt">Task</span><span class="p">[]</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">  </span><span class="nx">searchQuery?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">  </span><span class="nx">onTaskClick</span><span class="o">?:</span><span class="w"> </span><span class="p">(</span><span class="nx">task</span><span class="o">:</span><span class="w"> </span><span class="kt">Task</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="p">}</span>
</span></code></pre></div>
<p><strong>Columns:</strong></p>
<table>
<thead>
<tr>
<th>Column</th>
<th>Status</th>
<th>Background</th>
</tr>
</thead>
<tbody>
<tr>
<td>Pending</td>
<td><code>pending</code></td>
<td>Slate tones</td>
</tr>
<tr>
<td>In Progress</td>
<td><code>in_progress</code></td>
<td>Blue tones</td>
</tr>
<tr>
<td>Completed</td>
<td><code>completed</code></td>
<td>Green tones</td>
</tr>
</tbody>
</table>
<p><strong>Search filtering:</strong> When <code>searchQuery</code> is provided, tasks are filtered by case-insensitive match against both <code>subject</code> and <code>description</code> fields before grouping.</p>
<p><strong>Task cards</strong> display:</p>
<ul>
<li><strong>Task ID</strong> â monospace <code>#id</code> badge</li>
<li><strong>Active badge</strong> â blue "Active" pill when <code>task.activeForm</code> is set</li>
<li><strong>Subject</strong> â truncated to 2 lines via <code>line-clamp-2</code></li>
<li><strong>Dependency indicators</strong> â red "Blocked by N" and orange "Blocks N" counts</li>
</ul>
<p>Each column header shows its title and the count of tasks currently in that column. Empty columns display a "No tasks" placeholder.</p>
<div class="admonition info">
<p class="admonition-title">Responsive Layout</p>
<p>The board uses a <code>grid-cols-1 md:grid-cols-3</code> layout â stacking vertically on mobile and showing all three columns side-by-side on medium+ screens. Each column scrolls independently via <code>overflow-y-auto</code>.</p>
</div>
<hr />
<h3 id="taskdetail">TaskDetail<a class="headerlink" href="#taskdetail" title="Permanent link">&para;</a></h3>
<p><strong>File:</strong> <code>src/components/TaskDetail.tsx</code> Â· <strong>Type:</strong> Client Component (Dialog)</p>
<p>A modal dialog that displays the full details of a selected task, including metadata badges and navigable dependency links.</p>
<div class="highlight"><span class="filename">src/components/TaskDetail.tsx</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kd">interface</span><span class="w"> </span><span class="nx">TaskDetailProps</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">  </span><span class="nx">task</span><span class="o">:</span><span class="w"> </span><span class="kt">Task</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span><span class="nx">onClose</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">  </span><span class="nx">onNavigateToTask</span><span class="o">?:</span><span class="w"> </span><span class="p">(</span><span class="nx">taskId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">  </span><span class="nx">onOpenExecutionContext</span><span class="o">?:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="p">}</span>
</span></code></pre></div>
<p><strong>Sections rendered:</strong></p>
<table>
<thead>
<tr>
<th>Section</th>
<th>Condition</th>
<th>Content</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header</td>
<td>Always</td>
<td>Task ID, subject, status badge, active badge</td>
</tr>
<tr>
<td>Description</td>
<td><code>task.description</code> exists</td>
<td>Full description text with preserved whitespace</td>
</tr>
<tr>
<td>Active Form</td>
<td><code>task.activeForm</code> exists</td>
<td>Current active form label</td>
</tr>
<tr>
<td>Blocked By</td>
<td><code>blockedBy.length &gt; 0</code></td>
<td>Clickable <code>#id</code> links (red)</td>
</tr>
<tr>
<td>Blocks</td>
<td><code>blocks.length &gt; 0</code></td>
<td>Clickable <code>#id</code> links (orange)</td>
</tr>
<tr>
<td>Metadata</td>
<td><code>metadata</code> has keys</td>
<td>Priority badge, complexity badge, phase badge, plus any extra key-value pairs</td>
</tr>
<tr>
<td>Execution Context</td>
<td><code>onOpenExecutionContext</code> provided</td>
<td>"View Execution Context" button</td>
</tr>
</tbody>
</table>
<p><strong>Metadata badges:</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Priority</label><label for="__tabbed_1_2">Complexity</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>Level</th>
<th>Colors</th>
</tr>
</thead>
<tbody>
<tr>
<td>Critical</td>
<td>Red background</td>
</tr>
<tr>
<td>High</td>
<td>Orange background</td>
</tr>
<tr>
<td>Medium</td>
<td>Yellow background</td>
</tr>
<tr>
<td>Low</td>
<td>Green background</td>
</tr>
</tbody>
</table>
</div>
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>Size</th>
<th>Colors</th>
</tr>
</thead>
<tbody>
<tr>
<td>XS</td>
<td>Emerald background</td>
</tr>
<tr>
<td>S</td>
<td>Teal background</td>
</tr>
<tr>
<td>M</td>
<td>Cyan background</td>
</tr>
<tr>
<td>L</td>
<td>Sky background</td>
</tr>
<tr>
<td>XL</td>
<td>Indigo background</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p><strong>Dependency navigation:</strong> Clicking a <code>#id</code> link in the "Blocked By" or "Blocks" sections calls <code>onNavigateToTask(taskId)</code>, which in <code>TaskBoardClient</code> looks up the target task and opens it in the same dialog â allowing users to traverse the dependency graph without closing the modal.</p>
<hr />
<h3 id="summarystats">SummaryStats<a class="headerlink" href="#summarystats" title="Permanent link">&para;</a></h3>
<p><strong>File:</strong> <code>src/components/SummaryStats.tsx</code> Â· <strong>Type:</strong> Client Component</p>
<p>A horizontal stats bar that shows aggregate task metrics, rendered between the header and the Kanban board.</p>
<div class="highlight"><span class="filename">src/components/SummaryStats.tsx</span><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kd">interface</span><span class="w"> </span><span class="nx">SummaryStatsProps</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span><span class="nx">tasks</span><span class="o">:</span><span class="w"> </span><span class="kt">Task</span><span class="p">[]</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="p">}</span>
</span></code></pre></div>
<p>Internally delegates to the <code>useTaskStats</code> hook for memoized computation. Renders six <code>StatCard</code> sub-components:</p>
<table>
<thead>
<tr>
<th>Card</th>
<th>Value</th>
<th>Color</th>
</tr>
</thead>
<tbody>
<tr>
<td>Total</td>
<td><code>stats.total</code></td>
<td>Slate</td>
</tr>
<tr>
<td>Pending</td>
<td><code>stats.pending</code></td>
<td>Slate</td>
</tr>
<tr>
<td>In Progress</td>
<td><code>stats.inProgress</code></td>
<td>Blue</td>
</tr>
<tr>
<td>Completed</td>
<td><code>stats.completed</code></td>
<td>Green</td>
</tr>
<tr>
<td>Blocked</td>
<td><code>stats.blocked</code></td>
<td>Red</td>
</tr>
<tr>
<td>Completion</td>
<td><code>stats.completionRate</code> + "%"</td>
<td>Emerald</td>
</tr>
</tbody>
</table>
<p>The stats bar is only rendered when <code>currentTasks.length &gt; 0</code> (controlled by <code>TaskBoardClient</code>).</p>
<hr />
<h3 id="executiondialog">ExecutionDialog<a class="headerlink" href="#executiondialog" title="Permanent link">&para;</a></h3>
<p><strong>File:</strong> <code>src/components/ExecutionDialog.tsx</code> Â· <strong>Type:</strong> Client Component (Dialog)</p>
<p>A large tabbed modal for viewing execution session artifacts. Renders markdown content with <code>react-markdown</code> and <code>remark-gfm</code>, or a structured <code>ProgressView</code> for the progress tab.</p>
<div class="highlight"><span class="filename">src/components/ExecutionDialog.tsx</span><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kd">interface</span><span class="w"> </span><span class="nx">ExecutionDialogProps</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">  </span><span class="nx">executionContext</span><span class="o">:</span><span class="w"> </span><span class="kt">ExecutionContext</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">  </span><span class="nx">open</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">  </span><span class="nx">onOpenChange</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">open</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="p">}</span>
</span></code></pre></div>
<p><strong>Tab order and labels:</strong></p>
<table>
<thead>
<tr>
<th>Artifact Name</th>
<th>Tab Label</th>
<th>Rendering</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>execution_plan</code></td>
<td>Plan</td>
<td>Markdown</td>
</tr>
<tr>
<td><code>progress</code></td>
<td>Progress</td>
<td><code>ProgressView</code> component</td>
</tr>
<tr>
<td><code>execution_context</code></td>
<td>Context</td>
<td>Markdown</td>
</tr>
<tr>
<td><code>task_log</code></td>
<td>Log</td>
<td>Markdown</td>
</tr>
<tr>
<td><code>session_summary</code></td>
<td>Summary</td>
<td>Markdown</td>
</tr>
</tbody>
</table>
<p>Tabs are sorted in the order shown above. The default tab is <code>execution_plan</code> if available, otherwise the first artifact.</p>
<p><strong>ProgressView sub-component:</strong></p>
<p>When the progress tab is active and <code>executionContext.progress</code> is available, the dialog renders a structured view instead of raw markdown:</p>
<ul>
<li><strong>Status badge</strong> â "Initializing", "Executing", or "Complete" with semantic colors</li>
<li><strong>Wave indicator</strong> â "Wave X of Y" with optional max-parallel count</li>
<li><strong>Active tasks list</strong> â Each active task shown with an animated green ping dot, task ID, subject, and current phase</li>
<li><strong>Completed tasks list</strong> â Each completed task shown with a PASS/FAIL badge, task ID, subject, and result summary</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Markdown Rendering</p>
<p>All non-progress artifact tabs use <code>react-markdown</code> with <code>remark-gfm</code> for full GitHub-Flavored Markdown support, including tables, strikethrough, and task lists. Content is styled with Tailwind's <code>prose</code> typography classes and includes custom overrides for table borders and code block backgrounds.</p>
</div>
<hr />
<h3 id="executionprogressbar">ExecutionProgressBar<a class="headerlink" href="#executionprogressbar" title="Permanent link">&para;</a></h3>
<p><strong>File:</strong> <code>src/components/ExecutionProgressBar.tsx</code> Â· <strong>Type:</strong> Client Component</p>
<p>A compact live execution indicator displayed in the header. It has two visual modes depending on execution state.</p>
<div class="highlight"><span class="filename">src/components/ExecutionProgressBar.tsx</span><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kd">interface</span><span class="w"> </span><span class="nx">ExecutionProgressBarProps</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">  </span><span class="nx">progress</span><span class="o">:</span><span class="w"> </span><span class="kt">ExecutionProgress</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">undefined</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">  </span><span class="nx">hasExecContext</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">  </span><span class="nx">onClick</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="p">}</span>
</span></code></pre></div>
<p><strong>Rendering modes:</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Active Execution</label><label for="__tabbed_2_2">Inactive (Context Available)</label><label for="__tabbed_2_3">No Context</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>When <code>progress.status === 'Executing'</code>:</p>
<div class="highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>[â] Wave 2/5 | 3 active | 7 done
</span></code></pre></div>
<ul>
<li>Animated green ping dot indicates live activity</li>
<li>Shows current wave, active task count, and completed task count</li>
<li>Entire bar is clickable to open the <code>ExecutionDialog</code></li>
</ul>
</div>
<div class="tabbed-block">
<p>When execution data exists but is not actively running:</p>
<ul>
<li>Renders a ghost-variant icon button with the <code>ScrollText</code> (Lucide) icon</li>
<li>Clicking opens the <code>ExecutionDialog</code> to review past execution artifacts</li>
</ul>
</div>
<div class="tabbed-block">
<p>When <code>hasExecContext</code> is <code>false</code>:</p>
<ul>
<li>Returns <code>null</code> â the component is not rendered at all</li>
</ul>
</div>
</div>
</div>
<hr />
<h3 id="tasklistselector">TaskListSelector<a class="headerlink" href="#tasklistselector" title="Permanent link">&para;</a></h3>
<p><strong>File:</strong> <code>src/components/TaskListSelector.tsx</code> Â· <strong>Type:</strong> Client Component</p>
<p>A dropdown select for switching between task lists, built on Radix <code>Select</code> primitives via shadcn/ui.</p>
<div class="highlight"><span class="filename">src/components/TaskListSelector.tsx</span><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kd">interface</span><span class="w"> </span><span class="nx">TaskListSelectorProps</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">  </span><span class="nx">taskLists</span><span class="o">:</span><span class="w"> </span><span class="kt">TaskList</span><span class="p">[]</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">  </span><span class="nx">currentListId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="p">}</span>
</span></code></pre></div>
<p>Selection triggers URL-based navigation via <code>router.push(</code>/lists/${encodeURIComponent(value)}<code>)</code>. Each option displays the list name and task count (e.g., "claude-alchemy (24)"). When no task lists are available, it renders a muted "No task lists found" message instead of a select.</p>
<hr />
<h3 id="searchinput">SearchInput<a class="headerlink" href="#searchinput" title="Permanent link">&para;</a></h3>
<p><strong>File:</strong> <code>src/components/SearchInput.tsx</code> Â· <strong>Type:</strong> Client Component</p>
<p>A text input with search icon and clearable state.</p>
<div class="highlight"><span class="filename">src/components/SearchInput.tsx</span><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kd">interface</span><span class="w"> </span><span class="nx">SearchInputProps</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">  </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">  </span><span class="nx">onChange</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">  </span><span class="nx">placeholder?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w">  </span><span class="c1">// defaults to &quot;Search tasks...&quot;</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="p">}</span>
</span></code></pre></div>
<p>The search icon (<code>Lucide Search</code>) is positioned inside the input on the left. When the input has a value, an <code>X</code> button appears on the right to clear the field. The search query filters <code>KanbanBoard</code> tasks by matching against <code>subject</code> and <code>description</code>.</p>
<hr />
<h3 id="themetoggle">ThemeToggle<a class="headerlink" href="#themetoggle" title="Permanent link">&para;</a></h3>
<p><strong>File:</strong> <code>src/components/ThemeToggle.tsx</code> Â· <strong>Type:</strong> Client Component</p>
<p>A button that toggles between dark and light themes, with SSR-safe mounting.</p>
<div class="highlight"><span class="filename">src/components/ThemeToggle.tsx</span><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">ThemeToggle</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">mounted</span><span class="p">,</span><span class="w"> </span><span class="nx">setMounted</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">theme</span><span class="p">,</span><span class="w"> </span><span class="nx">setTheme</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useTheme</span><span class="p">()</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">  </span><span class="nx">useEffect</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">setMounted</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">[])</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">  </span><span class="c1">// Render placeholder during SSR</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">mounted</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">Button</span><span class="w"> </span><span class="nx">variant</span><span class="o">=</span><span class="s2">&quot;ghost&quot;</span><span class="w"> </span><span class="nx">size</span><span class="o">=</span><span class="s2">&quot;icon&quot;</span><span class="w"> </span><span class="nx">disabled</span><span class="o">&gt;</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">Sun</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;h-5 w-5&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="w">  </span><span class="c1">// ...</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="p">}</span>
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Hydration Safety</p>
<p>The component renders a disabled placeholder during SSR and only shows the interactive toggle after mounting. This prevents hydration mismatches because <code>next-themes</code> reads the theme from <code>localStorage</code>, which is not available on the server.</p>
</div>
<p>The Sun and Moon icons are animated with CSS transforms â the Sun rotates and scales out when dark mode is active, while the Moon rotates and scales in.</p>
<hr />
<h2 id="hooks">Hooks<a class="headerlink" href="#hooks" title="Permanent link">&para;</a></h2>
<h3 id="usetasks">useTasks<a class="headerlink" href="#usetasks" title="Permanent link">&para;</a></h3>
<p><strong>File:</strong> <code>src/hooks/useTasks.ts</code></p>
<p>Fetches and caches tasks for a given list using TanStack Query.</p>
<div class="highlight"><span class="filename">src/hooks/useTasks.ts</span><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">taskKeys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">  </span><span class="nx">all</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;tasks&#39;</span><span class="p">]</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="kd">const</span><span class="p">,</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">  </span><span class="nx">list</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">listId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">[...</span><span class="nx">taskKeys</span><span class="p">.</span><span class="nx">all</span><span class="p">,</span><span class="w"> </span><span class="nx">listId</span><span class="p">]</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="kd">const</span><span class="p">,</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="p">}</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">useTasks</span><span class="p">(</span><span class="nx">taskListId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="nx">initialData?</span><span class="o">:</span><span class="w"> </span><span class="kt">Task</span><span class="p">[])</span>
</span></code></pre></div>
<table>
<thead>
<tr>
<th>Option</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>queryKey</code></td>
<td><code>['tasks', listId]</code></td>
<td>Scoped per task list</td>
</tr>
<tr>
<td><code>queryFn</code></td>
<td><code>fetchTasks(taskListId)</code></td>
<td>Calls <code>GET /api/tasks/:listId</code></td>
</tr>
<tr>
<td><code>enabled</code></td>
<td><code>!!taskListId</code></td>
<td>Disabled when no list selected</td>
</tr>
<tr>
<td><code>initialData</code></td>
<td>Server-provided tasks</td>
<td>Enables instant render</td>
</tr>
</tbody>
</table>
<p>The exported <code>taskKeys</code> factory is used by <code>useSSE</code> to invalidate specific query keys on filesystem events.</p>
<hr />
<h3 id="usetasklists">useTaskLists<a class="headerlink" href="#usetasklists" title="Permanent link">&para;</a></h3>
<p><strong>File:</strong> <code>src/hooks/useTaskLists.ts</code></p>
<p>Fetches the list of available task lists.</p>
<div class="highlight"><span class="filename">src/hooks/useTaskLists.ts</span><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">taskListKeys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">  </span><span class="nx">all</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;task-lists&#39;</span><span class="p">]</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="kd">const</span><span class="p">,</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="p">}</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">useTaskLists</span><span class="p">()</span>
</span></code></pre></div>
<table>
<thead>
<tr>
<th>Option</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>queryKey</code></td>
<td><code>['task-lists']</code></td>
</tr>
<tr>
<td><code>queryFn</code></td>
<td><code>fetchTaskLists()</code></td>
</tr>
</tbody>
</table>
<p>Uses default <code>staleTime</code> (1 minute) from the <code>QueryClient</code> configuration. Invalidated by <code>useSSE</code> on <code>task:created</code>, <code>task:updated</code>, and <code>task:deleted</code> events to keep task counts accurate.</p>
<hr />
<h3 id="useexecutioncontext">useExecutionContext<a class="headerlink" href="#useexecutioncontext" title="Permanent link">&para;</a></h3>
<p><strong>File:</strong> <code>src/hooks/useExecutionContext.ts</code></p>
<p>Fetches execution context data with aggressive polling for live updates.</p>
<div class="highlight"><span class="filename">src/hooks/useExecutionContext.ts</span><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">executionContextKeys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">  </span><span class="nx">all</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;execution-context&#39;</span><span class="p">]</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="kd">const</span><span class="p">,</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">  </span><span class="nx">list</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">listId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">[...</span><span class="nx">executionContextKeys</span><span class="p">.</span><span class="nx">all</span><span class="p">,</span><span class="w"> </span><span class="nx">listId</span><span class="p">]</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="kd">const</span><span class="p">,</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="p">}</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">useExecutionContext</span><span class="p">(</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="w">  </span><span class="nx">taskListId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="w">  </span><span class="nx">initialData?</span><span class="o">:</span><span class="w"> </span><span class="kt">ExecutionContext</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="p">)</span>
</span></code></pre></div>
<table>
<thead>
<tr>
<th>Option</th>
<th>Value</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>staleTime</code></td>
<td>2 seconds</td>
<td>Execution data changes rapidly during active runs</td>
</tr>
<tr>
<td><code>refetchInterval</code></td>
<td>5 seconds</td>
<td>Polls for updates even without SSE events</td>
</tr>
<tr>
<td><code>initialData</code></td>
<td>Server-provided context</td>
<td>Avoids loading state on first render</td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">Dual Update Strategy</p>
<p>Execution context updates through two channels: the 5-second polling interval catches progress changes written to <code>progress.md</code>, while SSE <code>execution:updated</code> events from <code>useSSE</code> trigger immediate invalidation for structural changes to session files.</p>
</div>
<hr />
<h3 id="usesse">useSSE<a class="headerlink" href="#usesse" title="Permanent link">&para;</a></h3>
<p><strong>File:</strong> <code>src/hooks/useSSE.ts</code></p>
<p>Establishes a Server-Sent Events connection and performs dual invalidation (TanStack Query cache + Next.js Server Components) on filesystem change events.</p>
<div class="highlight"><span class="filename">src/hooks/useSSE.ts</span><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">useSSE</span><span class="p">(</span><span class="nx">taskListId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Event handling:</strong></p>
<table>
<thead>
<tr>
<th>SSE Event</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>task:created</code></td>
<td>Invalidate <code>taskKeys.list(id)</code> + <code>taskListKeys.all</code> + <code>router.refresh()</code></td>
</tr>
<tr>
<td><code>task:updated</code></td>
<td>Invalidate <code>taskKeys.list(id)</code> + <code>taskListKeys.all</code> + <code>router.refresh()</code></td>
</tr>
<tr>
<td><code>task:deleted</code></td>
<td>Invalidate <code>taskKeys.list(id)</code> + <code>taskListKeys.all</code> + <code>router.refresh()</code></td>
</tr>
<tr>
<td><code>execution:updated</code></td>
<td>Invalidate <code>executionContextKeys.list(id)</code> + <code>router.refresh()</code></td>
</tr>
<tr>
<td><code>connected</code></td>
<td>Logs connection confirmation</td>
</tr>
</tbody>
</table>
<p><strong>Reconnection:</strong> On error, the EventSource is closed and a reconnection attempt is scheduled after 3 seconds by incrementing a <code>reconnectKey</code> state variable, which triggers the <code>useEffect</code> to re-run and create a new connection.</p>
<div class="admonition tip">
<p class="admonition-title">Dual Invalidation Pattern</p>
<p><code>router.refresh()</code> re-runs Server Components to update server-fetched data, while <code>queryClient.invalidateQueries()</code> triggers TanStack Query to refetch on the client side. Together, they ensure both the server-rendered initial data and the client-side cache stay consistent with the filesystem.</p>
</div>
<hr />
<h3 id="usetaskstats">useTaskStats<a class="headerlink" href="#usetaskstats" title="Permanent link">&para;</a></h3>
<p><strong>File:</strong> <code>src/hooks/useTaskStats.ts</code></p>
<p>A memoized computation hook that derives aggregate statistics from a task array.</p>
<div class="highlight"><span class="filename">src/hooks/useTaskStats.ts</span><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">TaskStats</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">  </span><span class="nx">total</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">  </span><span class="nx">pending</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">  </span><span class="nx">inProgress</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">  </span><span class="nx">completed</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="w">  </span><span class="nx">blocked</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="w">  </span><span class="nx">completionRate</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="p">}</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">useTaskStats</span><span class="p">(</span><span class="nx">tasks</span><span class="o">:</span><span class="w"> </span><span class="kt">Task</span><span class="p">[])</span><span class="o">:</span><span class="w"> </span><span class="nx">TaskStats</span>
</span></code></pre></div>
<table>
<thead>
<tr>
<th>Stat</th>
<th>Computation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>total</code></td>
<td><code>tasks.length</code></td>
</tr>
<tr>
<td><code>pending</code></td>
<td>Count where <code>status === 'pending'</code></td>
</tr>
<tr>
<td><code>inProgress</code></td>
<td>Count where <code>status === 'in_progress'</code></td>
</tr>
<tr>
<td><code>completed</code></td>
<td>Count where <code>status === 'completed'</code></td>
</tr>
<tr>
<td><code>blocked</code></td>
<td>Count where <code>blockedBy.length &gt; 0</code></td>
</tr>
<tr>
<td><code>completionRate</code></td>
<td><code>Math.round((completed / total) * 100)</code>, or <code>0</code> if total is zero</td>
</tr>
</tbody>
</table>
<p>The computation is wrapped in <code>useMemo</code> with <code>[tasks]</code> as the dependency, so it only recalculates when the task array reference changes.</p>
<hr />
<h2 id="type-definitions">Type Definitions<a class="headerlink" href="#type-definitions" title="Permanent link">&para;</a></h2>
<h3 id="task-types">Task Types<a class="headerlink" href="#task-types" title="Permanent link">&para;</a></h3>
<div class="highlight"><span class="filename">src/types/task.ts</span><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="k">export</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nx">TaskStatus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;pending&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;in_progress&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;completed&#39;</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">TaskMetadata</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">  </span><span class="nx">priority</span><span class="o">?:</span><span class="w"> </span><span class="s1">&#39;critical&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;high&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;medium&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;low&#39;</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">  </span><span class="nx">complexity</span><span class="o">?:</span><span class="w"> </span><span class="s1">&#39;XS&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;S&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;M&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;L&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;XL&#39;</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">  </span><span class="nx">source_section?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">  </span><span class="nx">prd_path?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">  </span><span class="nx">feature_name?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="w">  </span><span class="nx">task_uid?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="w">  </span><span class="nx">phase?</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="w">  </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">unknown</span><span class="w">  </span><span class="c1">// extensible</span>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="p">}</span>
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">Task</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="w">  </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a><span class="w">  </span><span class="nx">subject</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-19-17"><a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a><span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-19-18"><a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a><span class="w">  </span><span class="nx">activeForm?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-19-19"><a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a><span class="w">  </span><span class="nx">status</span><span class="o">:</span><span class="w"> </span><span class="kt">TaskStatus</span>
</span><span id="__span-19-20"><a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a><span class="w">  </span><span class="nx">blocks</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[]</span>
</span><span id="__span-19-21"><a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a><span class="w">  </span><span class="nx">blockedBy</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[]</span>
</span><span id="__span-19-22"><a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a><span class="w">  </span><span class="nx">metadata?</span><span class="o">:</span><span class="w"> </span><span class="kt">TaskMetadata</span>
</span><span id="__span-19-23"><a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a><span class="p">}</span>
</span><span id="__span-19-24"><a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a>
</span><span id="__span-19-25"><a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">TaskList</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-26"><a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a><span class="w">  </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-19-27"><a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-19-28"><a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a><span class="w">  </span><span class="nx">taskCount</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span>
</span><span id="__span-19-29"><a id="__codelineno-19-29" name="__codelineno-19-29" href="#__codelineno-19-29"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="execution-types">Execution Types<a class="headerlink" href="#execution-types" title="Permanent link">&para;</a></h3>
<div class="highlight"><span class="filename">src/types/execution.ts</span><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">ExecutionArtifact</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">  </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">  </span><span class="nx">lastModified</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="p">}</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">ActiveTask</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">  </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">  </span><span class="nx">subject</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">  </span><span class="nx">phase</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="p">}</span>
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a>
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">CompletedTask</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-14"><a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="w">  </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-20-15"><a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="w">  </span><span class="nx">subject</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-20-16"><a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a><span class="w">  </span><span class="nx">result</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-20-17"><a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a><span class="p">}</span>
</span><span id="__span-20-18"><a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a>
</span><span id="__span-20-19"><a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">ExecutionProgress</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-20"><a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a><span class="w">  </span><span class="nx">status</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w">          </span><span class="c1">// &quot;Initializing&quot; | &quot;Executing&quot; | &quot;Complete&quot;</span>
</span><span id="__span-20-21"><a id="__codelineno-20-21" name="__codelineno-20-21" href="#__codelineno-20-21"></a><span class="w">  </span><span class="nx">wave</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span>
</span><span id="__span-20-22"><a id="__codelineno-20-22" name="__codelineno-20-22" href="#__codelineno-20-22"></a><span class="w">  </span><span class="nx">totalWaves</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span>
</span><span id="__span-20-23"><a id="__codelineno-20-23" name="__codelineno-20-23" href="#__codelineno-20-23"></a><span class="w">  </span><span class="nx">maxParallel?</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span>
</span><span id="__span-20-24"><a id="__codelineno-20-24" name="__codelineno-20-24" href="#__codelineno-20-24"></a><span class="w">  </span><span class="nx">updated</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-20-25"><a id="__codelineno-20-25" name="__codelineno-20-25" href="#__codelineno-20-25"></a><span class="w">  </span><span class="nx">activeTasks</span><span class="o">:</span><span class="w"> </span><span class="kt">ActiveTask</span><span class="p">[]</span>
</span><span id="__span-20-26"><a id="__codelineno-20-26" name="__codelineno-20-26" href="#__codelineno-20-26"></a><span class="w">  </span><span class="nx">completedTasks</span><span class="o">:</span><span class="w"> </span><span class="kt">CompletedTask</span><span class="p">[]</span>
</span><span id="__span-20-27"><a id="__codelineno-20-27" name="__codelineno-20-27" href="#__codelineno-20-27"></a><span class="p">}</span>
</span><span id="__span-20-28"><a id="__codelineno-20-28" name="__codelineno-20-28" href="#__codelineno-20-28"></a>
</span><span id="__span-20-29"><a id="__codelineno-20-29" name="__codelineno-20-29" href="#__codelineno-20-29"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">ExecutionContext</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-30"><a id="__codelineno-20-30" name="__codelineno-20-30" href="#__codelineno-20-30"></a><span class="w">  </span><span class="nx">executionDir</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-20-31"><a id="__codelineno-20-31" name="__codelineno-20-31" href="#__codelineno-20-31"></a><span class="w">  </span><span class="nx">artifacts</span><span class="o">:</span><span class="w"> </span><span class="kt">ExecutionArtifact</span><span class="p">[]</span>
</span><span id="__span-20-32"><a id="__codelineno-20-32" name="__codelineno-20-32" href="#__codelineno-20-32"></a><span class="w">  </span><span class="nx">progress?</span><span class="o">:</span><span class="w"> </span><span class="kt">ExecutionProgress</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span>
</span><span id="__span-20-33"><a id="__codelineno-20-33" name="__codelineno-20-33" href="#__codelineno-20-33"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="sse-event-types">SSE Event Types<a class="headerlink" href="#sse-event-types" title="Permanent link">&para;</a></h3>
<div class="highlight"><span class="filename">src/types/task.ts</span><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="k">export</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nx">SSEEventType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;task:created&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;task:updated&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;task:deleted&#39;</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="k">export</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nx">ExecutionSSEEventType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;execution:updated&#39;</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">SSEEvent</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">  </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="nx">SSEEventType</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">  </span><span class="nx">taskListId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="w">  </span><span class="nx">taskId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="w">  </span><span class="nx">task?</span><span class="o">:</span><span class="w"> </span><span class="kt">Task</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="p">}</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">ExecutionSSEEvent</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="w">  </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="nx">ExecutionSSEEventType</span>
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="w">  </span><span class="nx">taskListId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="p">}</span>
</span></code></pre></div>
<hr />
<h2 id="ui-primitives">UI Primitives<a class="headerlink" href="#ui-primitives" title="Permanent link">&para;</a></h2>
<p>All base UI components are provided by <a href="https://ui.shadcn.com/">shadcn/ui</a> built on Radix primitives:</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Source</th>
<th>Used By</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Button</code></td>
<td><code>src/components/ui/button.tsx</code></td>
<td>ThemeToggle, SearchInput, TaskDetail, ExecutionProgressBar</td>
</tr>
<tr>
<td><code>Card</code></td>
<td><code>src/components/ui/card.tsx</code></td>
<td>SummaryStats (StatCard)</td>
</tr>
<tr>
<td><code>Dialog</code></td>
<td><code>src/components/ui/dialog.tsx</code></td>
<td>TaskDetail, ExecutionDialog</td>
</tr>
<tr>
<td><code>Input</code></td>
<td><code>src/components/ui/input.tsx</code></td>
<td>SearchInput</td>
</tr>
<tr>
<td><code>Select</code></td>
<td><code>src/components/ui/select.tsx</code></td>
<td>TaskListSelector</td>
</tr>
<tr>
<td><code>Tabs</code></td>
<td><code>src/components/ui/tabs.tsx</code></td>
<td>ExecutionDialog</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="key-patterns">Key Patterns<a class="headerlink" href="#key-patterns" title="Permanent link">&para;</a></h2>
<h3 id="server-to-client-data-handoff">Server-to-Client Data Handoff<a class="headerlink" href="#server-to-client-data-handoff" title="Permanent link">&para;</a></h3>
<p>The application uses a "fetch on the server, hydrate on the client" pattern:</p>
<pre class="mermaid"><code>sequenceDiagram
    participant S as Server Component
    participant Q as TanStack Query
    participant SSE as useSSE
    participant FS as Filesystem

    S-&gt;&gt;Q: Pass initialData (tasks, executionContext)
    Q--&gt;&gt;Q: Populate cache (no loading state)
    SSE-&gt;&gt;FS: Listen for changes via EventSource
    FS--&gt;&gt;SSE: task:updated event
    SSE-&gt;&gt;Q: invalidateQueries()
    SSE-&gt;&gt;S: router.refresh()
    Q-&gt;&gt;Q: Refetch from API</code></pre>
<h3 id="query-key-factories">Query Key Factories<a class="headerlink" href="#query-key-factories" title="Permanent link">&para;</a></h3>
<p>Each hook exports a <code>keys</code> factory object for consistent cache key management:</p>
<div class="highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1">// Used by hooks and useSSE for targeted invalidation</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="nx">taskKeys</span><span class="p">.</span><span class="nx">all</span><span class="w">          </span><span class="c1">// [&#39;tasks&#39;]</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="nx">taskKeys</span><span class="p">.</span><span class="nx">list</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span><span class="w">  </span><span class="c1">// [&#39;tasks&#39;, &#39;abc&#39;]</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="nx">taskListKeys</span><span class="p">.</span><span class="nx">all</span><span class="w">      </span><span class="c1">// [&#39;task-lists&#39;]</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="nx">executionContextKeys</span><span class="p">.</span><span class="nx">all</span><span class="w">          </span><span class="c1">// [&#39;execution-context&#39;]</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="nx">executionContextKeys</span><span class="p">.</span><span class="nx">list</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span><span class="w">  </span><span class="c1">// [&#39;execution-context&#39;, &#39;abc&#39;]</span>
</span></code></pre></div>
<h3 id="theme-system">Theme System<a class="headerlink" href="#theme-system" title="Permanent link">&para;</a></h3>
<p>The application uses <code>next-themes</code> with a <code>class</code>-based strategy. Tailwind v4's <code>dark:</code> variant applies styles when the <code>dark</code> class is present on the <code>&lt;html&gt;</code> element. Colors use Tailwind's semantic tokens (<code>bg-card</code>, <code>text-muted-foreground</code>, <code>bg-background</code>) alongside direct color utilities for status-specific styling.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>